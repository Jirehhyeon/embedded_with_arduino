# 🎨 SmartFan v3.0 Fritzing 프로젝트 가이드

**Fritzing으로 완성하는 전문적인 회로도 및 PCB 설계**

## 📋 개요

Fritzing은 Arduino 프로젝트를 위한 최고의 회로 설계 도구입니다. 이 가이드는 SmartFan v3.0 프로젝트를 Fritzing으로 완벽하게 구현하는 방법을 단계별로 설명합니다.

### Fritzing의 장점
- **직관적 인터페이스**: 브레드보드 뷰로 실제와 동일한 레이아웃
- **자동 회로도 생성**: 브레드보드에서 표준 회로도로 자동 변환
- **PCB 설계**: 실제 제작 가능한 PCB 레이아웃 생성
- **부품 라이브러리**: 풍부한 Arduino 호환 부품들
- **내보내기 기능**: Gerber, PDF, SVG 등 다양한 형식 지원

## 🛠️ Fritzing 설치 및 설정

### 1. Fritzing 다운로드 및 설치

**다운로드 링크**: https://fritzing.org/download/

**시스템 요구사항**:
- Windows 10/11, macOS 10.14+, Ubuntu 18.04+
- RAM: 4GB 이상 (8GB 권장)
- 저장공간: 2GB 이상
- 그래픽카드: OpenGL 2.0 지원

**설치 과정**:
1. 공식 사이트에서 OS에 맞는 버전 다운로드
2. 설치 파일 실행 후 기본 설정으로 설치
3. 첫 실행 시 기부 안내 (Skip 가능)
4. Parts Bin 업데이트 확인

### 2. 커스텀 부품 라이브러리 설치

SmartFan v3.0에 필요한 특수 부품들을 추가해야 합니다.

**필요한 커스텀 부품**:
- ESP32 DevKit v1
- HW-020 모터 드라이버  
- ACS712 전류 센서
- 120mm PC 팬

**설치 방법**:
```
1. File → Import → Parts Bin
2. 제공된 .fzpz 파일들을 순서대로 import
3. My Parts 폴더에서 부품 확인
4. 부품 아이콘과 핀아웃 정보 검증
```

## 🔧 프로젝트 생성 및 기본 설정

### 새 프로젝트 생성

1. **New Project**: File → New
2. **프로젝트 저장**: Ctrl+S → "SmartFan-v3.fzz"
3. **그리드 설정**: View → Grid Size → 0.1in
4. **스냅 활성화**: View → Align to Grid

### 작업 환경 최적화

**뷰 설정**:
- Breadboard View: 기본 작업 화면
- Schematic View: 회로도 확인용
- PCB View: PCB 설계용

**유용한 단축키**:
```
Ctrl + Z: 실행 취소
Ctrl + Y: 다시 실행
Ctrl + A: 전체 선택
Ctrl + G: 그룹화
Space: 부품 회전
Delete: 부품 삭제
```

## 📐 브레드보드 뷰 설계

### 1단계: 기본 구성 요소 배치

**브레드보드 준비**:
1. Parts Bin → Core → Full+ Breadboard 선택
2. 작업 영역 중앙에 배치
3. 속성에서 색상을 흰색으로 변경

**Arduino Uno 배치**:
1. Parts Bin → Core → Arduino Uno R3 선택
2. 브레드보드 좌측에 배치
3. USB 포트가 좌측을 향하도록 회전
4. 좌표: (50, 100) 픽셀 위치

**ESP32 배치**:
1. My Parts → ESP32 DevKit v1 선택
2. Arduino 우측에 배치  
3. USB 포트가 하단을 향하도록 배치
4. 좌표: (300, 120) 픽셀 위치

### 2단계: 센서 부품 배치

**DHT22 온습도 센서**:
- 위치: 브레드보드 상단 중앙
- 방향: 핀이 하단을 향하도록
- 라벨: "Temperature & Humidity"

**ACS712 전류 센서**:
- 위치: 브레드보드 우측 상단
- 방향: 터미널이 위쪽
- 라벨: "Current Sensor"

**LDR 조도 센서**:
- 위치: 브레드보드 우측 하단
- 저항: 10kΩ와 분압 회로 구성
- 라벨: "Light Sensor"

### 3단계: 모터 및 액추에이터

**HW-020 모터 드라이버**:
- 위치: Arduino 하단
- 터미널 블록 방향 확인
- 방열판 표시 추가

**서보 모터**:
- 위치: 브레드보드 외부 좌측
- 3선 연결 (빨강/갈색/주황)
- 회전 방향 표시

**12V 팬**:
- 위치: 브레드보드 외부 상단
- 2선 연결 (빨강/검정)
- 풍향 화살표 표시

### 4단계: 디스플레이 및 기타

**I2C LCD 16x2**:
- 위치: 브레드보드 외부 우측
- I2C 백팩 포함 표시
- 4선 연결 (VCC/GND/SDA/SCL)

**LED 표시등**:
- 전원 표시 LED (빨강)
- 상태 표시 LED (초록)
- 경고 표시 LED (노랑)

## 🔌 배선 작업

### 전원 배선 (빨간색/검은색)

**5V 전원 분배**:
```
Arduino 5V → 브레드보드 + 레일
ESP32 3V3 → 별도 + 레일 (필요시)
DHT22 VCC → 5V 레일
ACS712 VCC → 5V 레일
LCD VCC → 5V 레일
```

**접지 연결**:
```
Arduino GND → 브레드보드 - 레일
ESP32 GND → - 레일
모든 센서 GND → - 레일
HW-020 GND → - 레일
```

**12V 외부 전원**:
```
12V 어댑터 + → HW-020 VMS
12V 어댑터 - → 공통 GND
```

### 신호선 배선 (색상별 구분)

**디지털 신호 (노란색)**:
```
Arduino D3 → HW-020 ENA (PWM)
Arduino D7 → DHT22 DATA
Arduino D11 → Servo Signal
Arduino D12 → HW-020 IN1
```

**아날로그 신호 (초록색)**:
```
Arduino A1 → ACS712 OUT
Arduino A2 → LDR 분압점
```

**I2C 통신 (파란색)**:
```
Arduino A4 (SDA) → LCD SDA
Arduino A5 (SCL) → LCD SCL
```

**시리얼 통신 (보라색)**:
```
Arduino D2 → ESP32 TX2 (GPIO17)
Arduino D3 → ESP32 RX2 (GPIO16)
```

### 배선 품질 향상 팁

**와이어 색상 규칙**:
- 🔴 빨간색: +5V, +12V
- ⚫ 검은색: GND
- 🟡 노란색: 디지털 출력
- 🟢 초록색: 아날로그 입력
- 🔵 파란색: I2C 통신
- 🟣 보라색: UART 통신
- 🟠 주황색: PWM 출력

**배선 정리 기법**:
1. **직선 배선**: 가능한 직선으로 연결
2. **직각 꺾기**: 부드러운 곡선보다 직각
3. **그룹화**: 기능별로 배선 그룹화
4. **라벨링**: 중요 신호선에 라벨 추가

## 📊 회로도 뷰 (Schematic View)

### 자동 회로도 생성

1. **뷰 전환**: 상단 탭에서 "Schematic" 클릭
2. **자동 배치**: 부품들이 논리적으로 재배치됨
3. **연결 확인**: 모든 연결선이 정확한지 확인
4. **정리 작업**: 부품 위치와 방향 조정

### 회로도 최적화

**부품 재배치**:
```
좌측: 전원 공급 회로
중앙 상단: 마이크로컨트롤러 (Arduino, ESP32)
중앙 하단: 센서 회로
우측: 출력 회로 (모터, LCD)
```

**신호 흐름 정리**:
- 입력 신호: 좌측에서 우측으로
- 전원: 상단에서 하단으로
- 접지: 하단에 집중 배치
- 클럭/제어: 별도 영역 구분

**라벨 및 값 추가**:
```
저항: 10kΩ, 220Ω 등 값 표시
커패시터: 100nF, 10µF 등 값 표시
전압: +5V, +12V, GND 표시
신호: PWM, I2C, UART 등 기능 표시
```

### 회로도 검증

**연결 검사**:
- [ ] 모든 핀이 연결되었는가?
- [ ] 전원과 접지가 올바른가?
- [ ] 신호 방향이 정확한가?
- [ ] 부품 값이 표시되었는가?

**설계 규칙 검사**:
- [ ] 전원 단락 없음
- [ ] 신호 충돌 없음  
- [ ] 미연결 핀 확인
- [ ] 라벨 일관성 확인

## 🔧 PCB 뷰 (PCB View)

### PCB 기본 설정

**보드 크기 설정**:
1. PCB View로 전환
2. 보드 외곽선 더블클릭
3. 크기: 100mm × 80mm 설정
4. 모양: 사각형 (라운드 코너)

**레이어 구성**:
- Top Layer: 주요 신호선
- Bottom Layer: 전원 및 접지
- Silkscreen: 부품 라벨
- Soldermask: 납땜 마스크

### 부품 배치

**배치 원칙**:
1. **기능별 그룹화**: 관련 부품끼리 근접 배치
2. **신호 흐름**: 입력 → 처리 → 출력 순서
3. **열 분산**: 발열 부품 분산 배치
4. **접근성**: 커넥터는 가장자리에

**자동 배치**:
1. Routing → Auto-place → All
2. 결과 확인 후 수동 조정
3. 중요 부품은 수동 배치 고정

### 라우팅 (배선)

**자동 라우팅**:
1. Routing → Autoroute → All Layers
2. Via 최소화 옵션 활성화
3. 트레이스 폭: 신호선 0.2mm, 전원선 0.5mm
4. 결과 확인 후 수동 수정

**수동 라우팅**:
```
전원선: 0.5mm 이상 굵게
접지: 폴리곤으로 채우기
신호선: 0.2mm 표준
고주파: 최단 거리 배선
```

**비아 최적화**:
- 불필요한 비아 제거
- 비아 크기 통일 (0.4mm)
- 전원 비아는 크게 (0.6mm)

### 설계 규칙 검사 (DRC)

**기본 규칙**:
```
최소 트레이스 폭: 0.15mm
최소 비아 크기: 0.3mm
최소 트레이스 간격: 0.15mm
최소 비아-트레이스 간격: 0.1mm
```

**검사 항목**:
- [ ] 단락(Short) 없음
- [ ] 단선(Open) 없음
- [ ] 설계 규칙 위반 없음
- [ ] 제조 가능성 확인

## 📤 내보내기 및 제작

### 제작용 파일 생성

**Gerber 파일 생성**:
1. File → Export → Etchable (PDF)
2. File → Export → Gerber Files
3. 모든 레이어 선택하여 내보내기
4. Excellon 드릴 파일 포함

**조립 가이드 생성**:
1. File → Export → Bill of Materials (BOM)
2. File → Export → Parts List (HTML)
3. 부품 위치도 (Pick & Place) 생성

### 프로토타입 제작

**브레드보드 PCB**:
- 홀 피치: 2.54mm 표준
- 단면 PCB 사용 가능
- 수작업 납땜으로 제작

**전문 PCB 제작**:
- JLCPCB, PCBWay 등 온라인 서비스
- 2레이어 PCB 권장
- 최소 주문: 5개 (약 $10)

### 품질 검증

**전기적 테스트**:
- 전원 단락 확인
- 신호 연결성 확인
- 임피던스 측정 (필요시)

**기능 테스트**:
- 부품별 동작 확인
- 시스템 통합 테스트
- 성능 벤치마크

## 🎯 고급 기능 활용

### 계층적 설계

**하위 회로 생성**:
1. 전원부 서브회로
2. 센서부 서브회로  
3. 제어부 서브회로
4. 출력부 서브회로

**심볼 생성**:
- 커스텀 부품 심볼 제작
- 핀 번호 및 이름 정의
- 패키지와 심볼 연결

### 시뮬레이션 (제한적)

**기본 시뮬레이션**:
- 저항 분압 계산
- LED 전류 계산
- 기본적인 AC/DC 해석

**외부 도구 연동**:
- SPICE 시뮬레이터와 netlist 연동
- LTspice로 고급 해석
- Falstad 온라인 시뮬레이터

### 협업 기능

**버전 관리**:
- Git과 연동 가능
- 파일명에 버전 번호 포함
- 변경 사항 로그 관리

**공유 및 발표**:
- PNG/PDF 고화질 내보내기
- 웹용 HTML 내보내기
- 프레젠테이션용 자료 생성

## 🔍 문제 해결

### 자주 발생하는 문제

**문제 1: 부품이 연결되지 않음**
```
원인: 핀 정렬 불일치
해결: 부품을 그리드에 정확히 맞추기
팁: Align to Grid 옵션 활성화
```

**문제 2: 회로도가 복잡함**
```
원인: 부품 배치가 비논리적
해결: 기능별로 재배치
팁: 신호 흐름을 고려한 배치
```

**문제 3: PCB 라우팅 실패**
```
원인: 부품 배치가 부적절
해결: 부품 재배치 후 재시도
팁: 수동으로 중요 신호부터 배선
```

### 성능 최적화

**Fritzing 속도 향상**:
- 불필요한 부품 제거
- 복잡한 부품 단순화
- 메모리 사용량 모니터링

**파일 크기 최적화**:
- 이미지 해상도 조정
- 불필요한 레이어 제거
- 압축 옵션 활용

---

**🎨 Fritzing으로 전문적인 회로 설계를! 🎨**

체계적인 접근법으로 완벽한 회로도와 PCB를 설계해보세요! 🚀